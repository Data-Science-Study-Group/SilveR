@section Scripts {
    <environment names="Development">
        <script defer src="~/js/analysis/index.js"></script>
    </environment>
    <environment names="Production">
        <script defer src="~/js/analysis/index.min.js"></script>
    </environment>
}

@{
    ViewBag.Title = "My Analyses";
}
<h2>@ViewBag.Title</h2>

@if (ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger">
        <strong>Error!</strong>
        <br />
        <p>@ViewBag.ErrorMessage</p>
    </div>
}

<div class="row">
    <div class="col">
        <form method="get" action="~/Analyses/AnalysisDataSelector">
            <input type="submit" value="New Analysis" class="btn btn-primary" />
        </form>
    </div>
    <div class="col">
        <button id="deleteSelected" class="btn btn-secondary float-right">Delete selected</button>
    </div>
</div>
<br />

<div class="row">
    <div class="col-md-12">
        @if (ViewBag.HasAnalyses)
        {
            <div id="grid" />
        }
        else //not got analyses, display message
        {
            <div class="alert alert-dismissible alert-info">
                <button class="close" type="button" data-dismiss="alert">×</button>
                <p>You have not yet performed any analyses. You can <a class="alert-link" href="~/Analyses/AnalysisDataSelector">select a data set, run an analysis</a> and then access your results on this page.</p>
            </div>
        }
    </div>
</div>